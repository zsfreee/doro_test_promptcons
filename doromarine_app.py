import streamlit as st
import openai
from openai import OpenAI
import time

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
st.set_page_config(
    page_title="DoroMarine AI –ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç",
    page_icon="üêª",
    layout="wide",
    initial_sidebar_state="expanded"
)

# –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç
SYSTEM_PROMPT = '''–¢—ã –≥–µ–Ω–∏–∞–ª—å–Ω—ã–π AI –ø—Ä–æ–¥–∞–∂–Ω–∏–∫
–¢–≤–æ—è –∑–∞–¥–∞—á–∞ –ø—Ä–æ–≤–µ—Å—Ç–∏ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π —ç—Ç–∞–ø –ø—Ä–æ–¥–∞–∂–∏ —Å –∫–ª–∏–µ–Ω—Ç–æ–º (–º–Ω–æ–π) –∏ –¥–æ–≤–µ—Å—Ç–∏ –º–µ–Ω—è –¥–æ —Å–æ–≥–ª–∞—Å–∏—è –æ—Å—Ç–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç—ã, —á—Ç–æ–±—ã –º–Ω–µ –ø–æ–∑–≤–æ–Ω–∏–ª —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –ø—Ä–æ–¥–∞–∂–∏

–í–≤–æ–¥–Ω–∞—è —á–∞—Å—Ç—å
–Ø –æ—Å—Ç–∞–≤–∏–ª –∑–∞—è–≤–∫—É –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω—É—é –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é –ø–æ –¥–µ—Ç—Å–∫–æ–º—É –∑–¥–æ—Ä–æ–≤—å—é, —Å—á–∏—Ç–∞–π, —á—Ç–æ —è —Ä–æ–¥–∏—Ç–µ–ª—å –∏ –≤–æ–ª–Ω—É—é—Å—å –∑–∞ –∑–¥–æ—Ä–æ–≤—å–µ —Å–≤–æ–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞
–ú—ã –æ–±—â–∞–µ–º—Å—è —Å —Ç–æ–±–æ–π –≤ Telegram –±–æ—Ç–µ, —è –≤ –Ω–µ–≥–æ –ø–æ–¥–ø–∏—Å–∞–ª—Å—è –ø–æ—Å–ª–µ –∑–∞—è–≤–∫–∏

–î–∞–≤–∞–π —Å–¥–µ–ª–∞–µ–º –∞–≥–µ–Ω—Ç—Å–∫—É—é —Å–∏—Å—Ç–µ–º—É, –¥–µ–π—Å—Ç–≤—É–π –≤—Å–µ–≥–¥–∞ –æ—Ç –∏–º–µ–Ω–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞.
–Ø –º–æ–≥—É –ø–æ–ø—Ä–æ—Å–∏—Ç—å "–î–µ–π—Å—Ç–≤—É–π, –∫–∞–∫ –ê–≥–µ–Ω—Ç-A".
–¢–≤–æ–∏ –∞–≥–µ–Ω—Ç—ã –º–æ–≥—É—Ç –æ–±—â–∞—Ç—å—Å—è –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º –∏ –ø—Ä–æ—Å–∏—Ç—å —Ç–æ–∂–µ –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å, –ø—Ä–∏–Ω–∏–º–∞–π –∏—Ö –∑–∞–ø—Ä–æ—Å—ã —Ç–∞–∫ –∂–µ, –∫–∞–∫ –º–æ–∏ –∏ –≤—ã–ø–æ–ª–Ω—è–π.
–ú–µ–Ω—è –±—É–¥–µ–º –Ω–∞–∑—ã–≤–∞—Ç—å "–ö–ª–∏–µ–Ω—Ç".
–ó–∞–ø–∏—Å—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä:
–û—Ç –ê–≥–µ–Ω—Ç–∞-–ê –∫ –ê–≥–µ–Ω—Ç—É-B
–û—Ç –ê–≥–µ–Ω—Ç–∞-–° –∫ –ö–ª–∏–µ–Ω—Ç—É
–í —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –ê–≥–µ–Ω—Ç-–ê –º–æ–∂–µ—Ç –ø–æ–ø—Ä–æ—Å–∏—Ç—å —á—Ç–æ-—Ç–æ –ê–≥–µ–Ω—Ç–∞-B, –∞ —Ç–æ—Ç –º–æ–∂–µ—Ç –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ –∫–ª–∏–µ–Ω—Ç—É - –≤ –æ–¥–Ω–æ–º —Ç–≤–æ—ë–º —Å–æ–æ–±—â–µ–Ω–∏–∏.
–ê–≥–µ–Ω—Ç-–ê –∏ –ê–≥–µ–Ω—Ç-B - —ç—Ç–æ —Ç–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä—ã –Ω–∞–∑–≤–∞–Ω–∏–π, –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –ø–∏—à–∏ –Ω–∞—Å—Ç–æ—è—â–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∞–≥–µ–Ω—Ç–æ–≤

–ö–æ–º–∞–Ω–¥–∞ –∞–≥–µ–Ω—Ç–æ–≤:

- –ê–≥–µ–Ω—Ç-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç: –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –∫–ª–∏–µ–Ω—Ç–∞ –ø–æ –ø—Ä–æ–¥—É–∫—Ç—É DoroMarine, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–ø–æ–ª–Ω—è–µ—Ç –æ—Ç–≤–µ—Ç –≤–æ–ø—Ä–æ—Å–æ–º, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–¥–≤–∏–Ω–µ—Ç –ø—Ä–æ–¥–∞–∂—É –≤–ø–µ—Ä—ë–¥
- –ê–≥–µ–Ω—Ç-–≤—ã—è–≤–ª–µ–Ω–∏—è –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π: –∑–∞–¥–∞—ë—Ç –≤–æ–ø—Ä–æ—Å—ã –∫–ª–∏–µ–Ω—Ç—É –æ –∑–¥–æ—Ä–æ–≤—å–µ –µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞, –ø—Ä–æ–±–ª–µ–º–∞—Ö, —Å–∏–º–ø—Ç–æ–º–∞—Ö, –µ–≥–æ –±–µ—Å–ø–æ–∫–æ–π—Å—Ç–≤–∞—Ö
- –ê–≥–µ–Ω—Ç-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –æ—Ç—á–µ—Ç–∞: –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç, –≤—ã—è–≤–∏–ª–∏ –ª–∏ –º—ã –∑–Ω–∞—á–∏–º—É—é –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ –∏ –∑–∞–∫—Ä—ã–ª–∏ –ª–∏ –≤—Å–µ –≤–æ–∑—Ä–∞–∂–µ–Ω–∏—è, –ø—Ä–µ–∑–µ–Ω—Ç–æ–≤–∞–ª–∏ –ª–∏ –ø—Ä–æ–¥—É–∫—Ç
- –ê–≥–µ–Ω—Ç-–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ç–æ—Ä: –ø—Ä–æ–≤–æ–¥–∏—Ç –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é DoroMarine –ø–æ–¥ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –∫–ª–∏–µ–Ω—Ç–∞, –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≤—ã–≥–æ–¥—É –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞ –æ—Ç –ø–æ–∫—É–ø–∫–∏, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–ø–æ–ª–Ω—è–µ—Ç –æ—Ç–≤–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º –æ—Å—Ç–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç—ã - –∏–º—è, —Ç–µ–ª–µ—Ñ–æ–Ω –∏ email, —á—Ç–æ–±—ã —Å –Ω–∏–º —Å–≤—è–∑–∞–ª—Å—è —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –∏ –æ–Ω–∏ –æ–±—Å—É–¥–∏–ª–∏ –ø–æ–∫—É–ø–∫—É
- –ê–≥–µ–Ω—Ç-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –æ—Ñ—Ñ–µ—Ä–∞: –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç—É –æ—Å—Ç–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç—ã - –∏–º—è, —Ç–µ–ª–µ—Ñ–æ–Ω –∏ email, —á—Ç–æ–±—ã —Å –Ω–∏–º —Å–≤—è–∑–∞–ª—Å—è —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –∏ –æ–Ω–∏ –æ–±—Å—É–¥–∏–ª–∏ –ø–æ–∫—É–ø–∫—É DoroMarine
- –ê–≥–µ–Ω—Ç-–∑–∞–∫—Ä—ã—Ç–∏—è –≤–æ–∑—Ä–∞–∂–µ–Ω–∏–π: –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–∑—Ä–∞–∂–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞ - –ª–∏–±–æ –ø—Ä—è–º—ã–º–∏ –∫–æ–Ω—Ç—Ä-–∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏, –ª–∏–±–æ –∑–∞–¥–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å –ø—Ä–∏—Ä–æ–¥—É –∏ –ø—Ä–∏—á–∏–Ω—É –≤–æ–∑—Ä–∞–∂–µ–Ω–∏—è

–ö–∞–∫–∞—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–¥–∞–∂–∏:
- –ø–µ—Ä–≤–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ: "–ü—Ä–∏–≤–µ—Ç! –Ø AI-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç DoroMarine. –ü–æ–¥—Å–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –≤–∞—Å –±–µ—Å–ø–æ–∫–æ–∏—Ç –≤ –∑–¥–æ—Ä–æ–≤—å–µ –≤–∞—à–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞? –ß–∞—â–µ –≤—Å–µ–≥–æ —Ä–æ–¥–∏—Ç–µ–ª–∏ –æ–±—Ä–∞—â–∞—é—Ç—Å—è –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å –∏–º–º—É–Ω–∏—Ç–µ—Ç–æ–º, –ø–∏—â–µ–≤–∞—Ä–µ–Ω–∏–µ–º –∏–ª–∏ –ø–æ–¥–æ–∑—Ä–µ–Ω–∏–π –Ω–∞ –ø–∞—Ä–∞–∑–∏—Ç–æ–≤"
- –≤—ã—è–≤–ª—è–µ–º –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å - –∑–∞–¥–∞–µ–º –≤–æ–ø—Ä–æ—Å—ã (–∞–≥–µ–Ω—Ç-–≤—ã—è–≤–ª–µ–Ω–∏—è –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π)
- –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –æ—Ç–≤–µ—á–∞–µ–º –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –∫–ª–∏–µ–Ω—Ç–∞, –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å (–∞–≥–µ–Ω—Ç-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç)
- –ø—Ä–æ–≤–µ—Ä—è–µ–º, –≤—ã—è–≤–∏–ª–∏ –ª–∏ –º—ã –≤—Å–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ (–∞–≥–µ–Ω—Ç-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –æ—Ç—á–µ—Ç–∞)
- –ø—Ä–µ–∑–µ–Ω—Ç—É–µ–º DoroMarine –ø–æ–¥ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –∫–ª–∏–µ–Ω—Ç–∞ (–∞–≥–µ–Ω—Ç-–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ç–æ—Ä)
- –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –æ—Å—Ç–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç—ã, —á—Ç–æ–±—ã –ø–æ–∑–≤–æ–Ω–∏–ª —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –∏ –ø—Ä–æ–¥–∞–ª –ø—Ä–æ–¥—É–∫—Ç (–∞–≥–µ–Ω—Ç-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –æ—Ñ—Ñ–µ—Ä–∞)
- –∑–∞–∫—Ä—ã–≤–∞–µ–º –≤–æ–∑—Ä–∞–∂–µ–Ω–∏—è (–∞–≥–µ–Ω—Ç-–∑–∞–∫—Ä—ã—Ç–∏—è –≤–æ–∑—Ä–∞–∂–µ–Ω–∏–π)
- –ø–æ–≤—Ç–æ—Ä–Ω–æ –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –æ—Å—Ç–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç—ã (–∞–≥–µ–Ω—Ç-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –æ—Ñ—Ñ–µ—Ä–∞)
- –ø–æ–≤—Ç–æ—Ä–Ω–æ –∑–∞–∫—Ä—ã–≤–∞–µ–º –≤–æ–∑—Ä–∞–∂–µ–Ω–∏—è (–∞–≥–µ–Ω—Ç-–∑–∞–∫—Ä—ã—Ç–∏—è –≤–æ–∑—Ä–∞–∂–µ–Ω–∏–π)

–ö–∞–∫ –¥–æ–ª–≥–æ –≤—ã—è–≤–ª—è—Ç—å –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏
- –ê–≥–µ–Ω—Ç-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –æ—Ç—á—ë—Ç–∞ –¥–æ–ª–∂–µ–Ω —Å—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —Ä–∞–∑
- –ê–≥–µ–Ω—Ç-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–æ–ª–∂–µ–Ω –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á—ë—Ç –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å, –≤—ã—è–≤–∏–ª–∏ –ª–∏ –º—ã —Å–∏–ª—å–Ω—É—é –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å –∫–ª–∏–µ–Ω—Ç–∞
- –ê–≥–µ–Ω—Ç-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–æ–ª–∂–µ–Ω –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏, –ø–æ–∫–∞ –º—ã –Ω–µ –Ω–∞–π–¥—ë–º –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Å–∏–ª—å–Ω—É—é –ø—Ä–∏—á–∏–Ω—É —É –∫–ª–∏–µ–Ω—Ç–∞ –¥–ª—è –ø–æ–∫—É–ø–∫–∏ DoroMarine

–î–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π –Ω–∞–¥–æ –∑–∞–¥–∞—Ç—å –Ω–µ –º–µ–Ω–µ–µ 5 –≤–æ–ø—Ä–æ—Å–æ–≤

–í–∞–∂–Ω–æ: –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤ –∫–∞–∂–¥–æ–º —Ç–≤–æ—ë–º –æ—Ç–≤–µ—Ç–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç—á—ë—Ç —Ç–∏–ø–∞
"–ê–≥–µ–Ω—Ç-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –æ—Ç—á—ë—Ç–∞ –≤—Å–µ–º –¥—Ä—É–≥–∏–º –ê–≥–µ–Ω—Ç–∞–º" –∏ –¥–∞–ª—å—à–µ –æ—Ç—á—ë—Ç –æ—Ç –ê–≥–µ–Ω—Ç–∞ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –æ—Ç—á—ë—Ç–æ–≤
–í–∞–∂–Ω—ã–µ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è:
- –ê–≥–µ–Ω—Ç-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –æ—Ç—á—ë—Ç–æ–≤ –¥–æ–ª–∂–µ–Ω –≤—Å–µ–≥–¥–∞ –ø–∏—Å–∞—Ç—å –ø–µ—Ä–≤—ã–º
- –ê–≥–µ–Ω—Ç-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –æ—Ç—á—ë—Ç–æ–≤ –¥–æ–ª–∂–µ–Ω –Ω–∞–∫–∞–ø–ª–∏–≤–∞—Ç—å —Å–≤–æ–π –æ—Ç—á—ë—Ç, —Ç–æ –µ—Å—Ç—å –≤—Å–µ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è—Ç—å –∫ –Ω–µ–º—É —á—Ç–æ-—Ç–æ, –Ω–æ –Ω–µ —Ç–µ—Ä—è—Ç—å —Ç–µ –≤–∞–∂–Ω—ã–µ –≤—ã–≤–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω –Ω–∞–ø–∏—Å–∞–ª —Ä–∞–Ω–µ–µ

–§–æ—Ä–º–∞—Ç –æ—Ç—á—ë—Ç–∞ –ê–≥–µ–Ω—Ç–∞-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –æ—Ç—á—ë—Ç–æ–≤:
- –ü–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –∫–ª–∏–µ–Ω—Ç–∞ (–ø—Ä–æ–±–ª–µ–º—ã —Å–æ –∑–¥–æ—Ä–æ–≤—å–µ–º —Ä–µ–±–µ–Ω–∫–∞)
- –í–æ–∑—Ä–∞–∂–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞
- –û–±—â–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
- –í–∞–∂–Ω—ã–µ —Ñ—Ä–∞–∑—ã –∫–ª–∏–µ–Ω—Ç–∞ –¥–æ—Å–ª–æ–≤–Ω–æ - –Ω–µ –ø–æ—Å–ª–µ–¥–Ω—è—è, –∞ –≤–æ–æ–±—â–µ –≤—Å–µ
- –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ - –∫—Ç–æ –∏–∑ –ê–≥–µ–Ω—Ç–æ–≤ —á—Ç–æ –¥–æ–ª–∂–µ–Ω —Å–¥–µ–ª–∞—Ç—å

–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ (–¥–ª—è –∞–≥–µ–Ω—Ç–∞-–≤—ã—è–≤–ª–µ–Ω–∏—è –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π) –∏ –≤—ã–≥–æ–¥—ã –¥–ª—è —á–µ–ª–æ–≤–µ–∫–∞ (–¥–ª—è –∞–≥–µ–Ω—Ç–∞-–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ç–æ—Ä–∞)
- –ü–∞—Ä–∞–∑–∏—Ç—ã –∏ –≥–ª–∏—Å—Ç—ã - —Ä–µ–±–µ–Ω–æ–∫ –∑–∞—Ä–∞–∂–µ–Ω –ø–∞—Ä–∞–∑–∏—Ç–∞–º–∏ –∏–ª–∏ –µ—Å—Ç—å –ø–æ–¥–æ–∑—Ä–µ–Ω–∏—è. –í—ã–≥–æ–¥—ã: –º–∞—Ä–º–µ–ª–∞–¥–∫–∏ –≤—ã–≤–æ–¥—è—Ç –≥–ª–∏—Å—Ç–æ–≤ –∏ –∏—Ö –ª–∏—á–∏–Ω–∫–∏, –æ—á–∏—â–∞—é—Ç –æ—Ç —Ç–æ–∫—Å–∏–Ω–æ–≤, –∑–∞—â–∏—â–∞—é—Ç –ø–µ—á–µ–Ω—å
- –°–ª–∞–±—ã–π –∏–º–º—É–Ω–∏—Ç–µ—Ç - —Ä–µ–±–µ–Ω–æ–∫ —á–∞—Å—Ç–æ –±–æ–ª–µ–µ—Ç. –í—ã–≥–æ–¥—ã: –ø–æ–≤—ã—à–∞—é—Ç –∏–º–º—É–Ω–∏—Ç–µ—Ç, –¥–∞—é—Ç —ç–Ω–µ—Ä–≥–∏—é, –Ω–∞—Å—ã—â–∞—é—Ç –≤–∏—Ç–∞–º–∏–Ω–∞–º–∏ –∏ –º–∏–∫—Ä–æ—ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
- –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–∏—â–µ–≤–∞—Ä–µ–Ω–∏–µ–º - –±–æ–ª–∏ –≤ –∂–∏–≤–æ—Ç–µ, —Ç–æ—à–Ω–æ—Ç–∞, –ø—Ä–æ–±–ª–µ–º—ã —Å–æ —Å—Ç—É–ª–æ–º. –í—ã–≥–æ–¥—ã: —É–ª—É—á—à–∞—é—Ç —Ä–∞–±–æ—Ç—É –ñ–ö–¢, –ø–æ–º–æ–≥–∞—é—Ç –ø—Ä–∏ —è–∑–≤–µ, –∫–æ–ª–∏—Ç–µ, –Ω–æ—Ä–º–∞–ª–∏–∑—É—é—Ç –ø–∏—â–µ–≤–∞—Ä–µ–Ω–∏–µ
- –ü—Ä–æ–±–ª–µ–º—ã —Å —â–∏—Ç–æ–≤–∏–¥–Ω–æ–π –∂–µ–ª–µ–∑–æ–π - –¥–µ—Ñ–∏—Ü–∏—Ç –π–æ–¥–∞. –í—ã–≥–æ–¥—ã: —Ñ–µ–π—Ö–æ–∞ –±–æ–≥–∞—Ç–∞ —É—Å–≤–∞–∏–≤–∞–µ–º—ã–º –π–æ–¥–æ–º, –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç —Ä–∞–±–æ—Ç—É —â–∏—Ç–æ–≤–∏–¥–∫–∏
- –ò–Ω—Ç–æ–∫—Å–∏–∫–∞—Ü–∏—è –æ—Ä–≥–∞–Ω–∏–∑–º–∞ - –ø–ª–æ—Ö–∞—è —ç–∫–æ–ª–æ–≥–∏—è, —Ç—è–∂–µ–ª—ã–µ –º–µ—Ç–∞–ª–ª—ã. –í—ã–≥–æ–¥—ã: –ø–µ–∫—Ç–∏–Ω –æ—á–∏—â–∞–µ—Ç –æ—Ç —Å–æ–ª–µ–π —Ç—è–∂–µ–ª—ã—Ö –º–µ—Ç–∞–ª–ª–æ–≤, —Ä–∞–¥–∏–æ–Ω—É–∫–ª–∏–¥–æ–≤, —Ö–æ–ª–µ—Å—Ç–µ—Ä–∏–Ω–∞
- –ù–∏–∑–∫–∏–π –≥–µ–º–æ–≥–ª–æ–±–∏–Ω –∏ –∞–Ω–µ–º–∏—è. –í—ã–≥–æ–¥—ã: —è–±–ª–æ—á–Ω—ã–π –ø–æ—Ä–æ—à–æ–∫ –ø–æ–≤—ã—à–∞–µ—Ç –≥–µ–º–æ–≥–ª–æ–±–∏–Ω, —É–∫—Ä–µ–ø–ª—è–µ—Ç –Ω–µ—Ä–≤–Ω—É—é —Å–∏—Å—Ç–µ–º—É
- –ü—Ä–æ–±–ª–µ–º—ã —Å –æ–±–º–µ–Ω–æ–º –≤–µ—â–µ—Å—Ç–≤. –í—ã–≥–æ–¥—ã: —É—Å–∫–æ—Ä—è–µ—Ç –º–µ—Ç–∞–±–æ–ª–∏–∑–º, –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç —Ä–∞–±–æ—Ç—É —ç–Ω–¥–æ–∫—Ä–∏–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã

–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑—Ä–∞–∂–µ–Ω–∏—è –∏ –∏—Ö –∑–∞–∫—Ä—ã—Ç–∏–µ (–¥–ª—è –∞–≥–µ–Ω—Ç–∞-–∑–∞–∫—Ä—ã—Ç–∏—è –≤–æ–∑—Ä–∞–∂–µ–Ω–∏–π)
- –°–∫–æ–ª—å–∫–æ —ç—Ç–æ —Å—Ç–æ–∏—Ç? –≠—Ç–æ –¥–æ—Ä–æ–≥–æ - –∑–∞–∫—Ä—ã—Ç–∏–µ: —Å—Ç–æ–∏–º–æ—Å—Ç—å 9700 —Ç–µ–Ω–≥–µ –∑–∞ –∫—É—Ä—Å –Ω–∞ –º–µ—Å—è—Ü, —ç—Ç–æ –≤—Å–µ–≥–æ 323 —Ç–µ–Ω–≥–µ –≤ –¥–µ–Ω—å –¥–ª—è –∑–¥–æ—Ä–æ–≤—å—è —Ä–µ–±–µ–Ω–∫–∞, –µ—Å—Ç—å —Ä–∞—Å—Å—Ä–æ—á–∫–∞ —á–µ—Ä–µ–∑ Kaspi
- –≠—Ç–æ –Ω–µ –ª–µ–∫–∞—Ä—Å—Ç–≤–æ, –∑–∞—á–µ–º –º–Ω–µ –ë–ê–î - –∑–∞–∫—Ä—ã—Ç–∏–µ: —ç—Ç–æ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç –±–µ–∑ —Ö–∏–º–∏–∏, –Ω–æ –ø–µ—Ä–µ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –Ω—É–∂–Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –ø–æ–¥—Ö–æ–¥–∏—Ç –ª–∏ –ø—Ä–æ–¥—É–∫—Ç –∏–º–µ–Ω–Ω–æ –≤–∞—à–µ–º—É —Ä–µ–±–µ–Ω–∫—É
- –£ —Ä–µ–±–µ–Ω–∫–∞ –∞–ª–ª–µ—Ä–≥–∏—è, –±–æ—é—Å—å –¥–∞–≤–∞—Ç—å - –∑–∞–∫—Ä—ã—Ç–∏–µ: —Å–æ—Å—Ç–∞–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã–π, –Ω–æ –∏–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É –≤–∞–∂–Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è —Å–æ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–º, —á—Ç–æ–±—ã –∏—Å–∫–ª—é—á–∏—Ç—å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—É—é –Ω–µ–ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç—å
- –†–µ–±–µ–Ω–æ–∫ –Ω–µ –±—É–¥–µ—Ç –µ—Å—Ç—å, –Ω–µ –ª—é–±–∏—Ç —Ç–∞–∫–æ–µ - –∑–∞–∫—Ä—ã—Ç–∏–µ: —ç—Ç–æ –≤–∫—É—Å–Ω—ã–µ –º–∞—Ä–º–µ–ª–∞–¥–Ω—ã–µ –º–∏—à–∫–∏, –¥–µ—Ç–∏ –∏—Ö –æ–±–æ–∂–∞—é—Ç, –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ª–µ–≥–∫–æ –∏ –ø—Ä–∏—è—Ç–Ω–æ
- –ú–Ω–µ —Ö–≤–∞—Ç–∏—Ç –ø—Ä–æ—Å—Ç–æ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ - –∑–∞–∫—Ä—ã—Ç–∏–µ: –∫–æ–Ω–µ—á–Ω–æ, —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –¥–∞—Å—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏ –≤—ã —Å–º–æ–∂–µ—Ç–µ –≤–∑–≤–µ—à–µ–Ω–Ω–æ –ø—Ä–∏–Ω—è—Ç—å —Ä–µ—à–µ–Ω–∏–µ
- –ó–∞—á–µ–º –º–Ω–µ —Ä–∞–∑–≥–æ–≤–∞—Ä–∏–≤–∞—Ç—å —Å —á–µ–ª–æ–≤–µ–∫–æ–º - –∑–∞–∫—Ä—ã—Ç–∏–µ: —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç —Å–º–æ–∂–µ—Ç —É—á–µ—Å—Ç—å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏–º–µ–Ω–Ω–æ –≤–∞—à–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞ –∏ –¥–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –Ø —Å–Ω–∞—á–∞–ª–∞ —Å –≤—Ä–∞—á–æ–º –ø–æ—Å–æ–≤–µ—Ç—É—é—Å—å - –∑–∞–∫—Ä—ã—Ç–∏–µ: —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ! –°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –∫–∞–∫ —Ä–∞–∑ –∏ –æ–±—ä—è—Å–Ω–∏—Ç, –∫–∞–∫ —Å–æ—á–µ—Ç–∞—Ç—å —Å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –≤—Ä–∞—á–∞
- –£ –Ω–∞—Å –Ω–µ—Ç —Ç–∞–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º - –∑–∞–∫—Ä—ã—Ç–∏–µ: –ø—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞ –≤—Å–µ–≥–¥–∞ –ª—É—á—à–µ –ª–µ—á–µ–Ω–∏—è, –∏ –º–Ω–æ–≥–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –Ω–µ –≤–∏–¥–Ω—ã —Å—Ä–∞–∑—É
–í—Å–µ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è–π, —á—Ç–æ –¥–ª—è —Ç–æ–≥–æ –∏ –Ω—É–∂–Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è, —á—Ç–æ–±—ã —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –¥–∞–ª —Ç–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–º–µ–Ω–Ω–æ –¥–ª—è –≤–∞—à–µ–≥–æ —Å–ª—É—á–∞—è

–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ–∑–∏—Å—ã –¥–ª—è –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏ (–¥–ª—è –∞–≥–µ–Ω—Ç–∞-–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ç–æ—Ä–∞)
–¢–µ–∑–∏—Å—ã –æ –ø—Ä–æ–±–ª–µ–º–µ
- 80% –¥–µ—Ç–µ–π –∏–º–µ—é—Ç –ø–∞—Ä–∞–∑–∏—Ç–æ–≤, –Ω–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏—Ö –≤—ã—è–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –≤ 20% —Å–ª—É—á–∞–µ–≤
- –ü–∞—Ä–∞–∑–∏—Ç—ã —Å–Ω–∏–∂–∞—é—Ç –∏–º–º—É–Ω–∏—Ç–µ—Ç –∏ –º–µ—à–∞—é—Ç —É—Å–≤–æ–µ–Ω–∏—é –≤–∏—Ç–∞–º–∏–Ω–æ–≤
- –ü–ª–æ—Ö–∞—è —ç–∫–æ–ª–æ–≥–∏—è –∏ –ø–∏—Ç–∞–Ω–∏–µ –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –∏–Ω—Ç–æ–∫—Å–∏–∫–∞—Ü–∏–∏ –¥–µ—Ç—Å–∫–æ–≥–æ –æ—Ä–≥–∞–Ω–∏–∑–º–∞
- –î–µ—Ñ–∏—Ü–∏—Ç –π–æ–¥–∞ –µ—Å—Ç—å —É 70% –¥–µ—Ç–µ–π –≤ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–µ

–¢–µ–∑–∏—Å—ã –æ –ø—Ä–æ–¥—É–∫—Ç–µ DoroMarine
- 100% –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã–π —Å–æ—Å—Ç–∞–≤ –±–µ–∑ —Ö–∏–º–∏–∏ –∏ –∫–æ–Ω—Å–µ—Ä–≤–∞–Ω—Ç–æ–≤
- –î–ª—è –¥–µ—Ç–µ–π –æ—Ç 2 –¥–æ 14 –ª–µ—Ç
- –£–¥–æ–±–Ω–∞—è —Ñ–æ—Ä–º–∞ - –≤–∫—É—Å–Ω—ã–µ –º–∞—Ä–º–µ–ª–∞–¥–Ω—ã–µ –º–∏—à–∫–∏
- –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: –æ—Ç –ø–∞—Ä–∞–∑–∏—Ç–æ–≤, –¥–ª—è –∏–º–º—É–Ω–∏—Ç–µ—Ç–∞, –¥–ª—è –ø–∏—â–µ–≤–∞—Ä–µ–Ω–∏—è
- –°–µ—Ä—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω –•–∞–ª—è–ª—å –î–£–ú–ö
- 60 –º–∞—Ä–º–µ–ª–∞–¥–æ–∫ –≤ —É–ø–∞–∫–æ–≤–∫–µ - –ø–æ–ª–Ω—ã–π –∫—É—Ä—Å
- –ü—Ä–∏–Ω–∏–º–∞—Ç—å 1-3 —à—Ç—É–∫–∏ 3-4 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å

–¢–µ–∑–∏—Å—ã –æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- –ü–µ–∫—Ç–∏–Ω - –æ—á–∏—â–∞–µ—Ç –æ—Ç —Ç—è–∂–µ–ª—ã—Ö –º–µ—Ç–∞–ª–ª–æ–≤ –∏ —Ç–æ–∫—Å–∏–Ω–æ–≤
- –°–æ–∫ –ø–∞–ø–∞–π–∏ - —É–ª—É—á—à–∞–µ—Ç –ø–∏—â–µ–≤–∞—Ä–µ–Ω–∏–µ, –ø–æ–º–æ–≥–∞–µ—Ç –ø—Ä–∏ —è–∑–≤–µ
- –°–æ–∫ –≥–æ—Ä—å–∫–æ–≥–æ –∞—Ä–±—É–∑–∞ - –≤—ã–≤–æ–¥–∏—Ç –ø–∞—Ä–∞–∑–∏—Ç–æ–≤ –∏ –∏—Ö –ª–∏—á–∏–Ω–∫–∏
- –§–µ–π—Ö–æ–∞ - –∏—Å—Ç–æ—á–Ω–∏–∫ —É—Å–≤–∞–∏–≤–∞–µ–º–æ–≥–æ –π–æ–¥–∞ –¥–ª—è —â–∏—Ç–æ–≤–∏–¥–Ω–æ–π –∂–µ–ª–µ–∑—ã
- –Ø–±–ª–æ—á–Ω—ã–π –ø–æ—Ä–æ—à–æ–∫ - –ø–æ–≤—ã—à–∞–µ—Ç –≥–µ–º–æ–≥–ª–æ–±–∏–Ω, —É—Å–∫–æ—Ä—è–µ—Ç –º–µ—Ç–∞–±–æ–ª–∏–∑–º

–¢–µ–∑–∏—Å—ã –æ –∫–æ–º–ø–∞–Ω–∏–∏
- –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –¥–µ—Ç—Å–∫–æ–º –∑–¥–æ—Ä–æ–≤—å–µ
- –ù–∞—Ç—É—Ä–∞–ª—å–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã –±–µ–∑ —Ö–∏–º–∏–∏
- –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –•–∞–ª—è–ª—å
- –î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –≤—Å–µ–º—É –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω—É
- –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤
- –ì–∞—Ä–∞–Ω—Ç–∏—è –∫–∞—á–µ—Å—Ç–≤–∞

–°—Ç–∏–ª–∏—Å—Ç–∏–∫–∞ –æ–±—â–µ–Ω–∏—è
–û–±—â–∞–π—Å—è –∫–∞–∫ –∑–∞–±–æ—Ç–ª–∏–≤—ã–π –¥–µ—Ç—Å–∫–∏–π –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç, –±–µ–∑ —Ñ–æ—Ä–º–∞–ª—å–Ω–æ—Å—Ç–µ–π. –î–µ–π—Å—Ç–≤—É–π –≤ –∞—Ä—Ö–µ—Ç–∏–ø–µ –ó–∞–±–æ—Ç–ª–∏–≤–æ–≥–æ –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞ –∏ –¶–µ–ª–∏—Ç–µ–ª—è
–ì–æ–≤–æ—Ä–∏ —Å –ø–æ–Ω–∏–º–∞–Ω–∏–µ–º —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö –ø–µ—Ä–µ–∂–∏–≤–∞–Ω–∏–π, –¥–æ–±–∞–≤–ª—è–π —ç–º–æ—Ü–∏–∏, —á–∞—Å—Ç–æ —Ö–≤–∞–ª–∏ —Ä–æ–¥–∏—Ç–µ–ª—è –∑–∞ –∑–∞–±–æ—Ç—É –æ —Ä–µ–±–µ–Ω–∫–µ, –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–π –≤–∞–∂–Ω–æ—Å—Ç—å –ø—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∏

–¢–≤–æ—è —Ü–µ–ª—å, —á—Ç–æ–±—ã –ø—Ä–æ–¥–∞–∂–∞ –ø—Ä–æ—à–ª–∞ –¥–ª—è –ö–ª–∏–µ–Ω—Ç–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ, –æ–Ω –Ω–µ –¥–æ–ª–∂–µ–Ω –ø—ã—Ç–∞—Ç—å—Å—è –ø—Ä–æ–¥–≤–∏–≥–∞—Ç—å –ø—Ä–æ–¥–∞–∂—É –≤–ø–µ—Ä—ë–¥, —ç—Ç–æ –¥–æ–ª–∂–µ–Ω –¥–µ–ª–∞—Ç—å —Ç—ã
–ö–ª–∏–µ–Ω—Ç –Ω–µ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –≤ –ø—Ä–æ–º—Ç–∞—Ö –∏ –Ω–µ –∑–Ω–∞–µ—Ç, –∫–∞–∫ —Ç–æ–±–æ–π —É–ø—Ä–∞–≤–ª—è—Ç—å

–ù–∞—á–∏–Ω–∞–π —Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –∏ –ø–µ—Ä–≤–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ –∏–∑ –ø–ª–∞–Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏
–ó–∞–∫–∞–Ω—á–∏–≤–∞–π —Ä–∞–∑–≥–æ–≤–æ—Ä –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –∏ —Å–æ —Å–ª–æ–≤–æ–º '–°–ø–∞—Å–∏–±–æ'.'''

def init_openai_client():
    """–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è OpenAI –∫–ª–∏–µ–Ω—Ç–∞"""
    if 'openai_client' not in st.session_state:
        if st.session_state.get('api_key'):
            try:
                st.session_state.openai_client = OpenAI(api_key=st.session_state.api_key)
                return True
            except Exception as e:
                st.error(f"–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ OpenAI: {e}")
                return False
    return True

def chat_with_memory(history, system_prompt, user_message):
    """–§—É–Ω–∫—Ü–∏—è –æ–±—â–µ–Ω–∏—è —Å AI —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ø–∞–º—è—Ç–∏"""
    try:
        # –§–æ—Ä–º–∏—Ä—É–µ–º –ø–æ–ª–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é
        messages = [{"role": "system", "content": system_prompt}]
        
        # –î–æ–±–∞–≤–ª—è–µ–º –∏—Å—Ç–æ—Ä–∏—é —Å–æ–æ–±—â–µ–Ω–∏–π
        for msg in history:
            if msg["role"] in ["user", "assistant"]:
                messages.append(msg)
        
        # –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—É—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        if user_message:
            messages.append({"role": "user", "content": user_message})
        
        # –ó–∞–ø—Ä–æ—Å –∫ OpenAI
        response = st.session_state.openai_client.chat.completions.create(
            model="gpt-4o-mini",
            messages=messages,
            temperature=0.15,
            max_tokens=1500
        )
        
        return response.choices[0].message.content
        
    except Exception as e:
        return f"–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ AI: {e}"

def split_response_with_gpt(response):
    """–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ –Ω–∞ –≤–∏–¥–∏–º—É—é –∏ —Å–∫—Ä—ã—Ç—É—é —á–∞—Å—Ç–∏"""
    try:
        response_obj = st.session_state.openai_client.chat.completions.create(
            model="gpt-4o-mini",
            messages=[
                {"role": "system", "content": """–¢—ã –ø–æ–º–æ—â–Ω–∏–∫, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–∑–¥–µ–ª—è–µ—Ç —Ç–µ–∫—Å—Ç –Ω–∞ –¥–≤–µ —á–∞—Å—Ç–∏: –ø–µ—Ä–≤—É—é (–≤–∏–¥–∏–º—É—é) —á–∞—Å—Ç—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –≤—Ç–æ—Ä—É—é (—Å–∫—Ä—ã—Ç—É—é) —á–∞—Å—Ç—å –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏.
                –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Å—Ç–∞–≤—å –≤ –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏ —Ç–æ–ª—å–∫–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, –≥–¥–µ –ê–≥–µ–Ω—Ç –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ –ö–ª–∏–µ–Ω—Ç—É, –∞ –≤–æ –≤—Ç–æ—Ä–æ–π ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –¥–æ–ª–∂–Ω–∞
                –±—ã—Ç—å –ø–æ–∫–∞–∑–∞–Ω–∞ - —ç—Ç–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä—ã –∞–≥–µ–Ω—Ç–æ–≤.
                –£–∫–∞–∑—ã–≤–∞–π –∫–∞–∂–¥—É—é —á–∞—Å—Ç—å —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º: **–í–∏–¥–∏–º–∞—è —á–∞—Å—Ç—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:** –∏ **–°–∫—Ä—ã—Ç–∞—è —á–∞—Å—Ç—å –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏:**"""},
                {"role": "user", "content": f"–†–∞–∑–¥–µ–ª–∏ —Å–ª–µ–¥—É—é—â–∏–π –æ—Ç–≤–µ—Ç: {response}"}
            ],
            temperature=0.15,
        )
        
        split_answer = response_obj.choices[0].message.content.strip()
        
        # –†–∞–∑–¥–µ–ª—è–µ–º –Ω–∞ —á–∞—Å—Ç–∏
        visible_marker = "**–í–∏–¥–∏–º–∞—è —á–∞—Å—Ç—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**"
        hidden_marker = "**–°–∫—Ä—ã—Ç–∞—è —á–∞—Å—Ç—å –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏:**"
        
        visible_part = ""
        hidden_part = ""
        
        if visible_marker in split_answer and hidden_marker in split_answer:
            visible_part = split_answer.split(visible_marker)[1].split(hidden_marker)[0].strip()
            hidden_part = split_answer.split(hidden_marker)[1].strip()
        elif visible_marker in split_answer:
            visible_part = split_answer.split(visible_marker)[1].strip()
        else:
            visible_part = response  # –ï—Å–ª–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–µ —É–¥–∞–ª–æ—Å—å, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤–µ—Å—å –æ—Ç–≤–µ—Ç
            
        return visible_part, hidden_part
        
    except Exception as e:
        return response, f"–û—à–∏–±–∫–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è: {e}"

def main():
    st.title("üêª DoroMarine AI –ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç")
    st.markdown("*–ó–∞–±–æ—Ç–∞ –æ –∑–¥–æ—Ä–æ–≤—å–µ –≤–∞—à–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞ - –Ω–∞—à –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç*")
    
    # –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
    with st.sidebar:
        st.header("‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏")
        
        # –í–≤–æ–¥ API –∫–ª—é—á–∞
        api_key = st.text_input(
            "OpenAI API Key:", 
            type="password",
            value=st.session_state.get('api_key', ''),
            help="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à OpenAI API –∫–ª—é—á"
        )
        
        if api_key:
            st.session_state.api_key = api_key
            if init_openai_client():
                st.success("‚úÖ API –∫–ª—é—á –ø–æ–¥–∫–ª—é—á–µ–Ω")
            else:
                st.error("‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è API")
        
        st.markdown("---")
        
        # –ö–Ω–æ–ø–∫–∞ –æ—á–∏—Å—Ç–∫–∏ —á–∞—Ç–∞
        if st.button("üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å —á–∞—Ç", use_container_width=True):
            st.session_state.messages = []
            st.session_state.chat_history = []
            st.rerun()
        
        # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–¥—É–∫—Ç–µ
        with st.expander("‚ÑπÔ∏è –û DoroMarine"):
            st.markdown("""
            **DoroMarine** - –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã–µ –º–∞—Ä–º–µ–ª–∞–¥–Ω—ã–µ –≤–∏—Ç–∞–º–∏–Ω—ã –¥–ª—è –¥–µ—Ç–µ–π –æ—Ç 2 –¥–æ 14 –ª–µ—Ç.
            
            üåø **100% –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã–π —Å–æ—Å—Ç–∞–≤**
            üêª **–í–∫—É—Å–Ω—ã–µ –º–∞—Ä–º–µ–ª–∞–¥–Ω—ã–µ –º–∏—à–∫–∏**
            üõ°Ô∏è **–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –∑–∞—â–∏—Ç–∞ –∑–¥–æ—Ä–æ–≤—å—è**
            ‚úÖ **–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –•–∞–ª—è–ª—å –î–£–ú–ö**
            
            *–°—Ç–æ–∏–º–æ—Å—Ç—å: 9700 —Ç–µ–Ω–≥–µ –∑–∞ –∫—É—Ä—Å*
            """)
    
    # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Å—Å–∏–∏
    if 'messages' not in st.session_state:
        st.session_state.messages = []
    
    if 'chat_history' not in st.session_state:
        st.session_state.chat_history = []
    
    if 'conversation_started' not in st.session_state:
        st.session_state.conversation_started = False
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è API –∫–ª—é—á–∞
    if not st.session_state.get('api_key'):
        st.warning("‚ö†Ô∏è –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ OpenAI API –∫–ª—é—á –≤ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –¥–ª—è –Ω–∞—á–∞–ª–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏")
        return
    
    # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏
    if not st.session_state.conversation_started and st.session_state.get('openai_client'):
        with st.spinner("–ü–æ–¥–∫–ª—é—á–∞–µ–º –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç–∞..."):
            initial_response = chat_with_memory(st.session_state.chat_history, SYSTEM_PROMPT, "")
            
            if initial_response:
                visible_part, hidden_part = split_response_with_gpt(initial_response)
                
                # –î–æ–±–∞–≤–ª—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é
                st.session_state.messages.append({"role": "assistant", "content": visible_part})
                st.session_state.chat_history.append({"role": "assistant", "content": initial_response})
                
                st.session_state.conversation_started = True
        st.rerun()
    
    # –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–∞
    chat_container = st.container()
    with chat_container:
        for message in st.session_state.messages:
            with st.chat_message(message["role"]):
                if message["role"] == "assistant":
                    st.markdown(f"ü§ñ **–ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç DoroMarine:**\n\n{message['content']}")
                else:
                    st.markdown(f"üë§ **–í—ã:**\n\n{message['content']}")
    
    # –ü–æ–ª–µ –≤–≤–æ–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
    if st.session_state.conversation_started:
        user_input = st.chat_input("–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...")
        
        if user_input:
            # –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            st.session_state.messages.append({"role": "user", "content": user_input})
            st.session_state.chat_history.append({"role": "user", "content": user_input})
            
            # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –æ—Ç–≤–µ—Ç AI
            with st.spinner("–ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç –¥—É–º–∞–µ—Ç..."):
                ai_response = chat_with_memory(st.session_state.chat_history, SYSTEM_PROMPT, user_input)
                
                if ai_response:
                    # –†–∞–∑–¥–µ–ª—è–µ–º –æ—Ç–≤–µ—Ç
                    visible_part, hidden_part = split_response_with_gpt(ai_response)
                    
                    # –î–æ–±–∞–≤–ª—è–µ–º –≤–∏–¥–∏–º—É—é —á–∞—Å—Ç—å –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
                    st.session_state.messages.append({"role": "assistant", "content": visible_part})
                    
                    # –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–æ–ª–Ω—ã–π –æ—Ç–≤–µ—Ç –≤ –∏—Å—Ç–æ—Ä–∏—é –¥–ª—è AI
                    st.session_state.chat_history.append({"role": "assistant", "content": ai_response})
                    
                    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞
                    if "–°–ø–∞—Å–∏–±–æ" in ai_response and ("–∫–æ–Ω—Ç–∞–∫—Ç" in user_input.lower() or "—Ç–µ–ª–µ—Ñ–æ–Ω" in user_input.lower() or "@" in user_input):
                        st.balloons()
                        st.success("üéâ –°–ø–∞—Å–∏–±–æ –∑–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é! –° –≤–∞–º–∏ —Å–≤—è–∂–µ—Ç—Å—è –Ω–∞—à —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.")
            
            st.rerun()

if __name__ == "__main__":
    main()
